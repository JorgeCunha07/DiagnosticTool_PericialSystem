{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jorge Cunha\\\\Documents\\\\GitHub\\\\AIAutonomousDriving\\\\frontend\\\\car-diagnosis\\\\src\\\\pages\\\\DiagnosticoCarroProlog.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { Alert, Box, Button, CircularProgress, Typography } from \"@mui/material\";\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport CardWrapper from '../components/CardWrapper';\nimport TituloLinha from \"../components/TituloLinha\";\nimport { getApiUrl } from '../config/apiConfig';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useDiagnostico = initialData => {\n  _s();\n  const [diagnostico, setDiagnostico] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n  const API_URL = getApiUrl();\n  const fetchPergunta = async () => {\n    setLoading(true);\n    try {\n      const response = await axios.get(`${API_URL}/pergunta`);\n      if (response.data.estado === \"finalizado\") {\n        navigate('/conclusao/prolog');\n      } else {\n        setDiagnostico(response.data);\n      }\n    } catch (err) {\n      setError('Falha ao carregar pergunta.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleAnswer = async answer => {\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API_URL}/responder`, {\n        resposta: answer\n      });\n      if (response.data.estado === \"finalizado\") {\n        navigate('/conclusao/prolog');\n      } else {\n        fetchPergunta();\n      }\n    } catch (err) {\n      setError('Falha ao enviar resposta.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchPergunta();\n  }, []);\n  return {\n    diagnostico,\n    loading,\n    error,\n    handleAnswer\n  };\n};\n_s(useDiagnostico, \"PaRnAb/2ZffWv2y/0wp6/0mNnnc=\", false, function () {\n  return [useNavigate];\n});\nconst DiagnosticoCarroProlog = () => {\n  _s2();\n  const {\n    diagnostico,\n    loading,\n    error,\n    handleAnswer\n  } = useDiagnostico();\n  if (!diagnostico) return null;\n  return /*#__PURE__*/_jsxDEV(CardWrapper, {\n    titulo: `Question치rio Diagn칩stico`,\n    children: [/*#__PURE__*/_jsxDEV(TituloLinha, {\n      title: \"Pergunta\",\n      lineColor: \"white\",\n      icon: \"QuestionMark\",\n      position: \"13px\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mt: 3,\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        whiteSpace: 'pre-line',\n        paddingBottom: '70px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        component: \"h2\",\n        sx: {\n          mt: 2\n        },\n        children: diagnostico.pergunta\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        mt: 2\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mt: 2\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        height: '0.5px',\n        width: \"100%\",\n        background: 'white',\n        marginBottom: '30px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), diagnostico.respostas && !loading && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mt: 3,\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      children: diagnostico.respostas.map((resposta, index) => /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => handleAnswer(resposta),\n        variant: \"contained\",\n        color: \"primary\",\n        sx: {\n          mr: 2\n        },\n        children: resposta\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s2(DiagnosticoCarroProlog, \"dogiZFyHy387XnlN6Ys78AlDhR4=\", false, function () {\n  return [useDiagnostico];\n});\n_c = DiagnosticoCarroProlog;\nexport default DiagnosticoCarroProlog;\nvar _c;\n$RefreshReg$(_c, \"DiagnosticoCarroProlog\");","map":{"version":3,"names":["Alert","Box","Button","CircularProgress","Typography","axios","useEffect","useState","useNavigate","CardWrapper","TituloLinha","getApiUrl","jsxDEV","_jsxDEV","useDiagnostico","initialData","_s","diagnostico","setDiagnostico","loading","setLoading","error","setError","navigate","API_URL","fetchPergunta","response","get","data","estado","err","handleAnswer","answer","post","resposta","DiagnosticoCarroProlog","_s2","titulo","children","title","lineColor","icon","position","fileName","_jsxFileName","lineNumber","columnNumber","sx","mt","display","justifyContent","alignItems","whiteSpace","paddingBottom","variant","component","pergunta","severity","height","width","background","marginBottom","respostas","map","index","onClick","color","mr","_c","$RefreshReg$"],"sources":["C:/Users/Jorge Cunha/Documents/GitHub/AIAutonomousDriving/frontend/car-diagnosis/src/pages/DiagnosticoCarroProlog.jsx"],"sourcesContent":["import { Alert, Box, Button, CircularProgress, Typography } from \"@mui/material\";\r\nimport axios from 'axios';\r\nimport { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport CardWrapper from '../components/CardWrapper';\r\nimport TituloLinha from \"../components/TituloLinha\";\r\nimport { getApiUrl } from '../config/apiConfig';\r\n\r\nconst useDiagnostico = (initialData) => {\r\n  const [diagnostico, setDiagnostico] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const navigate = useNavigate();\r\n  const API_URL = getApiUrl();\r\n\r\n  const fetchPergunta = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.get(`${API_URL}/pergunta`);\r\n      \r\n      if (response.data.estado === \"finalizado\") {\r\n        navigate('/conclusao/prolog');\r\n      } else {\r\n        setDiagnostico(response.data);\r\n      }\r\n    } catch (err) {\r\n      setError('Falha ao carregar pergunta.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAnswer = async (answer) => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.post(`${API_URL}/responder`, { resposta: answer });\r\n\r\n      if (response.data.estado === \"finalizado\") {\r\n        navigate('/conclusao/prolog');\r\n      } else {\r\n        fetchPergunta();\r\n      }\r\n    } catch (err) {\r\n      setError('Falha ao enviar resposta.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchPergunta();\r\n  }, []);\r\n\r\n  return { diagnostico, loading, error, handleAnswer };\r\n};\r\n\r\nconst DiagnosticoCarroProlog = () => {\r\n  const { diagnostico, loading, error, handleAnswer } = useDiagnostico();\r\n\r\n  if (!diagnostico) return null;\r\n\r\n  return (\r\n    <CardWrapper titulo={`Question치rio Diagn칩stico`}>\r\n      <TituloLinha title=\"Pergunta\" lineColor=\"white\" icon=\"QuestionMark\" position=\"13px\" />\r\n      \r\n      <Box sx={{ mt: 3 , display: 'flex', justifyContent: 'center', alignItems: 'center', whiteSpace:'pre-line', paddingBottom:'70px' }}>\r\n        <Typography variant=\"h5\" component=\"h2\" sx={{ mt: 2 }}>\r\n          {diagnostico.pergunta}\r\n        </Typography>\r\n      </Box>\r\n\r\n      {loading && (\r\n        <Box sx={{ display: 'flex', justifyContent: 'center', mt: 2 }}>\r\n          <CircularProgress />\r\n        </Box>\r\n      )}\r\n\r\n      {error && (\r\n        <Box sx={{ mt: 2 }}>\r\n          <Alert severity=\"error\">{error}</Alert>\r\n        </Box>\r\n      )}\r\n      \r\n      {/* <TituloLinha title=\"Resposta\" lineColor=\"white\" icon=\"QuestionAnswer\" position=\"13px\" /> */}\r\n\r\n      <Box sx={{ height: '0.5px', width: \"100%\", background: 'white', marginBottom: '30px'}} />\r\n\r\n      {diagnostico.respostas && !loading && (\r\n        <Box sx={{ mt: 3 , display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\r\n          {diagnostico.respostas.map((resposta, index) => (\r\n            <Button\r\n              key={index}\r\n              onClick={() => handleAnswer(resposta)}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              sx={{ mr: 2 }}\r\n            >\r\n              {resposta}\r\n            </Button>\r\n          ))}\r\n        </Box>\r\n      )}\r\n    </CardWrapper>\r\n  );\r\n};\r\n\r\nexport default DiagnosticoCarroProlog;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}